



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-0.17.2, mkdocs-material-2.6.2">
    
    
      
        <title>fork() - Yizhou Shan's Home Page</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application.9b572555.css">
      
    
    
      <script src="../../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <a href="#fork" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../../.." title="Yizhou Shan's Home Page" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Yizhou Shan's Home Page
              </span>
              <span class="md-header-nav__topic">
                fork()
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </span>
    Yizhou Shan's Home Page
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Misc
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Misc
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../misc/cheatsheet/" title="Cheatsheet" class="md-nav__link">
      Cheatsheet
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../misc/jasmine/" title="Jasmine" class="md-nav__link">
      Jasmine
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Lego
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Lego
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-1" type="checkbox" id="nav-3-1">
    
    <label class="md-nav__link" for="nav-3-1">
      Log
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-1">
        Log
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../log/log-02-2018/" title="Feb 2018" class="md-nav__link">
      Feb 2018
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-2" type="checkbox" id="nav-3-2">
    
    <label class="md-nav__link" for="nav-3-2">
      Boot
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-2">
        Boot
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../boot/grub/" title="GRUB" class="md-nav__link">
      GRUB
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../boot/trampoline/" title="Trampoline" class="md-nav__link">
      Trampoline
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-3" type="checkbox" id="nav-3-3">
    
    <label class="md-nav__link" for="nav-3-3">
      Kernel
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-3">
        Kernel
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../kernel/kconfig/" title="Kconfig" class="md-nav__link">
      Kconfig
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../kernel/debug/" title="Debug" class="md-nav__link">
      Debug
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../kernel/pagefault_disable/" title="pagefault_disable" class="md-nav__link">
      pagefault_disable
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../kernel/stop_machine/" title="stop_machine" class="md-nav__link">
      stop_machine
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-4" type="checkbox" id="nav-3-4" checked>
    
    <label class="md-nav__link" for="nav-3-4">
      Syscall
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-4">
        Syscall
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../msync/" title="msync()" class="md-nav__link">
      msync()
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mremap/" title="mremap()" class="md-nav__link">
      mremap()
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        fork()
      </label>
    
    <a href="./" title="fork()" class="md-nav__link md-nav__link--active">
      fork()
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#entry-points" title="Entry Points" class="md-nav__link">
    Entry Points
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#do_fork" title="do_fork()" class="md-nav__link">
    do_fork()
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-copy_process" title="1) copy_process()" class="md-nav__link">
    1) copy_process()
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dup_task_struct" title="dup_task_struct()" class="md-nav__link">
    dup_task_struct()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copy_thread_tls" title="copy_thread_tls()" class="md-nav__link">
    copy_thread_tls()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setup_sched_fork" title="setup_sched_fork()" class="md-nav__link">
    setup_sched_fork()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-p2m_fork" title="2) p2m_fork()" class="md-nav__link">
    2) p2m_fork()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-wake_up_new_task" title="3) wake_up_new_task()" class="md-nav__link">
    3) wake_up_new_task()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-5" type="checkbox" id="nav-3-5">
    
    <label class="md-nav__link" for="nav-3-5">
      Pcache
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-5">
        Pcache
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../pcache/config/" title="Config" class="md-nav__link">
      Config
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../pcache/rmap/" title="Reverse Mapping" class="md-nav__link">
      Reverse Mapping
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../pcache/smp_design/" title="SMP Design" class="md-nav__link">
      SMP Design
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-6" type="checkbox" id="nav-3-6">
    
    <label class="md-nav__link" for="nav-3-6">
      Paper
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-6">
        Paper
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../paper/nmp/" title="NMP" class="md-nav__link">
      NMP
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#entry-points" title="Entry Points" class="md-nav__link">
    Entry Points
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#do_fork" title="do_fork()" class="md-nav__link">
    do_fork()
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-copy_process" title="1) copy_process()" class="md-nav__link">
    1) copy_process()
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dup_task_struct" title="dup_task_struct()" class="md-nav__link">
    dup_task_struct()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copy_thread_tls" title="copy_thread_tls()" class="md-nav__link">
    copy_thread_tls()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setup_sched_fork" title="setup_sched_fork()" class="md-nav__link">
    setup_sched_fork()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-p2m_fork" title="2) p2m_fork()" class="md-nav__link">
    2) p2m_fork()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-wake_up_new_task" title="3) wake_up_new_task()" class="md-nav__link">
    3) wake_up_new_task()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="fork">fork()</h1>
<h2 id="entry-points">Entry Points</h2>
<ul>
<li><code>fork()</code></li>
<li><code>vfork()</code></li>
<li><code>clone()</code></li>
<li><code>kernel_thread()</code></li>
</ul>
<p>All of them land on <code>do_fork()</code>, which is Lego's main fork function.</p>
<h2 id="do_fork">do_fork()</h2>
<p>There are mainly three parts within <code>do_fork()</code>: <code>1)</code> <code>copy_process()</code>, which duplicates a new task based on <code>current</code>, including allocate new kernel stack, new task_struct, increase mm reference counter, etc. <code>2)</code> If we are creating a new process, then tell global monitor or memory manager to let them update bookkeeping and create corresponding data structures. <code>3)</code> <code>wake_up_new_task()</code>, which gives away the newly created task to local scheduler.</p>
<h3 id="1-copy_process">1) copy_process()</h3>
<p>This is a fairly long and complex function, thus I will mainly walk through important and interesting parts.</p>
<h4 id="dup_task_struct">dup_task_struct()</h4>
<p>todo</p>
<h4 id="copy_thread_tls">copy_thread_tls()</h4>
<p>todo</p>
<h4 id="setup_sched_fork">setup_sched_fork()</h4>
<p>Callback to scheduler to setup this new task. It may reset all scheduler related information. Here we also have a chance to change this task's scheduler class:</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span><span style="color: #B00040">int</span> <span style="color: #0000FF">setup_sched_fork</span>(<span style="color: #B00040">unsigned</span> <span style="color: #B00040">long</span> clone_flags, <span style="color: #008000; font-weight: bold">struct</span> task_struct <span style="color: #666666">*</span>p)
{
        <span style="color: #B00040">int</span> cpu <span style="color: #666666">=</span> get_cpu();

        __sched_fork(clone_flags, p);

        p<span style="color: #666666">-&gt;</span>state <span style="color: #666666">=</span> TASK_NEW;
        ...
        <span style="color: #008000; font-weight: bold">if</span> (unlikely(p<span style="color: #666666">-&gt;</span>sched_reset_on_fork)) {
                <span style="color: #008000; font-weight: bold">if</span> (task_has_rt_policy(p)) {
                        p<span style="color: #666666">-&gt;</span>policy <span style="color: #666666">=</span> SCHED_NORMAL;
                        p<span style="color: #666666">-&gt;</span>static_prio <span style="color: #666666">=</span> NICE_TO_PRIO(<span style="color: #666666">0</span>);
                        p<span style="color: #666666">-&gt;</span>rt_priority <span style="color: #666666">=</span> <span style="color: #666666">0</span>;
                } <span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span> (PRIO_TO_NICE(p<span style="color: #666666">-&gt;</span>static_prio) <span style="color: #666666">&lt;</span> <span style="color: #666666">0</span>)
                        p<span style="color: #666666">-&gt;</span>static_prio <span style="color: #666666">=</span> NICE_TO_PRIO(<span style="color: #666666">0</span>);

                p<span style="color: #666666">-&gt;</span>prio <span style="color: #666666">=</span> p<span style="color: #666666">-&gt;</span>normal_prio <span style="color: #666666">=</span> __normal_prio(p);
                set_load_weight(p);
                ...
        }    

        <span style="color: #008000; font-weight: bold">if</span> (rt_prio(p<span style="color: #666666">-&gt;</span>prio))
                p<span style="color: #666666">-&gt;</span>sched_class <span style="color: #666666">=</span> <span style="color: #666666">&amp;</span>rt_sched_class;
        <span style="color: #008000; font-weight: bold">else</span> {
                p<span style="color: #666666">-&gt;</span>sched_class <span style="color: #666666">=</span> <span style="color: #666666">&amp;</span>fair_sched_class;
                set_load_weight(p);
        }    

        __set_task_cpu(p, cpu);
        <span style="color: #008000; font-weight: bold">if</span> (p<span style="color: #666666">-&gt;</span>sched_class<span style="color: #666666">-&gt;</span>task_fork)
                p<span style="color: #666666">-&gt;</span>sched_class<span style="color: #666666">-&gt;</span>task_fork(p);

        ...
}
</pre></div>

<h3 id="2-p2m_fork">2) p2m_fork()</h3>
<p>In order to track user activities, we need to know when user are going to create new process. Fork is the best time and the only time we kernel know. So, Lego adds this special hook to tell remote global monitor or memory manager that there is a new process going to be created. Upon receiving this message, remote monitor will update its bookkeeping for this specific user/vNode.</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span><span style="color: #408080; font-style: italic">/* Tell remote memory component */</span>
<span style="color: #BC7A00">#ifdef CONFIG_COMP_PROCESSOR</span>
<span style="color: #008000; font-weight: bold">if</span> (clone_flags <span style="color: #666666">&amp;</span> CLONE_GLOBAL_THREAD) {
        ...
        p2m_fork(p, clone_flags);
        ...
}   
<span style="color: #BC7A00">#endif</span>
</pre></div>

<h3 id="3-wake_up_new_task">3) wake_up_new_task()</h3>
<p>The last step of <code>do_fork</code> is waking up the new thread or process, which is performed by <code>wake_up_new_task()</code> function. The first question this function will ask is: <code>which cpu to land?</code> The answer comes from <code>select_task_rq()</code>:</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span><span style="color: #008000; font-weight: bold">static</span> <span style="color: #008000; font-weight: bold">inline</span>
<span style="color: #B00040">int</span> <span style="color: #0000FF">select_task_rq</span>(<span style="color: #008000; font-weight: bold">struct</span> task_struct <span style="color: #666666">*</span>p, <span style="color: #B00040">int</span> cpu, <span style="color: #B00040">int</span> sd_flags, <span style="color: #B00040">int</span> wake_flags)
{
        <span style="color: #008000; font-weight: bold">if</span> (p<span style="color: #666666">-&gt;</span>nr_cpus_allowed <span style="color: #666666">&gt;</span> <span style="color: #666666">1</span>)
                cpu <span style="color: #666666">=</span> p<span style="color: #666666">-&gt;</span>sched_class<span style="color: #666666">-&gt;</span>select_task_rq(p, cpu, sd_flags, wake_flags);
        <span style="color: #008000; font-weight: bold">else</span>
                cpu <span style="color: #666666">=</span> cpumask_any(<span style="color: #666666">&amp;</span>p<span style="color: #666666">-&gt;</span>cpus_allowed);
        ...
}
</pre></div>

<p>Clearly, this is determined by <code>cpus_allowed</code>, which is the same with its parent at this point. That being said, if the parent is only able to run on one specific CPU, then all its children will end up running on the same CPU when they wake up (they could change their affinity later). This is also the default on Linux: <code>A child created via fork(2) inherits its parent's CPU affinity mask. The affinity mask is preserved across an execve(2).</code></p>
<p>After landing CPU is selected, following operation is simple: just enqueue this task into landing CPU's runqueue, and we are done:</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span><span style="color: #B00040">void</span> <span style="color: #0000FF">wake_up_new_task</span>(<span style="color: #008000; font-weight: bold">struct</span> task_struct <span style="color: #666666">*</span>p)
{
        ...
<span style="color: #408080; font-style: italic">/* Select a CPU for new thread to run */</span>
<span style="color: #BC7A00">#ifdef CONFIG_SMP</span>
        <span style="color: #408080; font-style: italic">/*   </span>
<span style="color: #408080; font-style: italic">         * Fork balancing, do it here and not earlier because:</span>
<span style="color: #408080; font-style: italic">         *  - cpus_allowed can change in the fork path</span>
<span style="color: #408080; font-style: italic">         *  - any previously selected cpu might disappear through hotplug</span>
<span style="color: #408080; font-style: italic">         */</span>
        set_task_cpu(p, select_task_rq(p, task_cpu(p), SD_BALANCE_FORK, <span style="color: #666666">0</span>));
<span style="color: #BC7A00">#endif</span>

        rq <span style="color: #666666">=</span> __task_rq_lock(p);
        activate_task(rq, p, <span style="color: #666666">0</span>);
        p<span style="color: #666666">-&gt;</span>on_rq <span style="color: #666666">=</span> TASK_ON_RQ_QUEUED;
        ...
}
</pre></div>

<p>--<br />
Yizhou Shan<br />
Feb 11, 2018</p>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../mremap/" title="mremap()" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                mremap()
              </span>
            </div>
          </a>
        
        
          <a href="../../pcache/config/" title="Config" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Config
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="http://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application.abd7b172.js"></script>
      
      <script>app.initialize({version:"0.17.2",url:{base:"../../.."}})</script>
      
    
    
      
    
  </body>
</html>