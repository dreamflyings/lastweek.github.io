<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="Yizhou Shan">
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Vivado Practice - Yizhou Shan's Home Page</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>
  <link href='https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Vivado Practice";
    var mkdocs_page_input_path = "fpga/vivado.md";
    var mkdocs_page_url = "/fpga/vivado/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script> 
  
  <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-143772066-1', 'auto');
      ga('send', 'pageview');
  </script>
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Yizhou Shan's Home Page</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	  
          
		  
  <ul class="" href="../..">
    <li class="toctree-l1">
  <a class="" href="../..">Home</a>
  </li></ul>
          
		  
  <p class="caption">Notes</p>
  <ul class="">
          <li class="toctree-l1">
            
  <a class="" href="../../notes/cache_coherence/">Cache Coherence</a>
        </li>
          <li class="toctree-l1">
            
  <a class="" href="../../notes/benchmark/">Benchmarks</a>
        </li>
          <li class="toctree-l1">
            
  <a class="" href="../../notes/paper_perf_shadows/">Perf Shadows</a>
        </li>
          <li class="toctree-l1">
            
  <a class="" href="../../notes/linux-articles/">Linux Articles</a>
        </li>
          <li class="toctree-l1">
            
  <a class="" href="../../notes/proc/">[Linux] Special Files</a>
        </li>
          <li class="toctree-l1">
            
  <a class="" href="../../notes/rmap/">[Linux] Reverse Mmap (rmap)</a>
        </li>
          <li class="toctree-l1">
            
  <a class="" href="../../notes/trace/">[Linux] Trace/Profile</a>
        </li>
          <li class="toctree-l1">
            
  <a class="" href="../../notes/cgroup-swap/">[Linux] Cgroup and Swap</a>
        </li>
          <li class="toctree-l1">
            
  <a class="" href="../../notes/userfaultfd/">[Linux] Userfaultfd</a>
        </li>
          <li class="toctree-l1">
            
  <a class="" href="../../notes/xperf/">[Linux] User/kern Cross Perf</a>
        </li>
          <li class="toctree-l1">
            
  <a class="" href="../../notes/kvm-basic/">[Linux] KVM</a>
        </li>
          <li class="toctree-l1">
            
  <a class="" href="../../misc/essential/">Essential</a>
        </li>
          <li class="toctree-l1">
            
  <a class="" href="../../misc/cheatsheet/">Cheatsheet</a>
        </li>
  </ul>

          
		  
  <p class="caption">FPGA</p>
  <ul class="current">
          <li class="toctree-l1">
            
  <a class="" href="../../notes/paper_fpga/">FPGA Papers</a>
        </li>
          <li class="toctree-l1 current">
            
  <a class="current" href="./">Vivado Practice</a>
  <ul class="subnav">
      
  <li class="toctree-l2 current">
  
  
    <ul class="">
    
        <li class="toctree-l3 toc-item" >
          <a class="toctree-l3" href="#tricks">Tricks</a>
        </li>
    
        <li class="toctree-l3 toc-item" >
          <a class="toctree-l3" href="#read-the-docs">Read-the-docs</a>
        </li>
    
    </ul>
  
  </li>

  </ul>
        </li>
          <li class="toctree-l1">
            
  <a class="" href="../bitstream/">Bitstream Explained</a>
        </li>
          <li class="toctree-l1">
            
  <a class="" href="../pr/">Partial Reconfiguration Explained</a>
        </li>
          <li class="toctree-l1">
            
  <a class="" href="../hls_axi/">HLS: Usage of AXI-Stream</a>
        </li>
          <li class="toctree-l1">
            
  <a class="" href="../hls_axi/">HLS: High-performance AXI-MM</a>
        </li>
  </ul>

          
		  
  <p class="caption">LegoOS-Dev</p>
  <ul class="">
          <li class="toctree-l1">
            
  <a class="" href="/lego/log/TODO">Log</a>
        </li>
          <li class="toctree-l1">
            
  <a class="" href="/lego/kernel/kconfig">Kernel</a>
        </li>
          <li class="toctree-l1">
            
  <a class="" href="/lego/syscall/facts">Syscall</a>
        </li>
          <li class="toctree-l1">
            
  <a class="" href="/lego/pcache/config">Pcache</a>
        </li>
          <li class="toctree-l1">
            
  <a class="" href="/lego/driver/pci">Driver</a>
        </li>
          <li class="toctree-l1">
            
  <a class="" href="/lego/paper/nmp">Paper</a>
        </li>
  </ul>

          
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Yizhou Shan's Home Page</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>FPGA &raquo;</li>
        
      
    
    <li>Vivado Practice</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="vivado-practice">Vivado Practice<a class="headerlink" href="#vivado-practice" title="Permanent link">&para;</a></h1>
<p><img alt="🐉" class="emojione" src="https://cdn.jsdelivr.net/emojione/assets/svg/1f409.svg" title=":dragon:" /></p>
<details class="note"><summary>Version History</summary><table><thead><tr><th align="left">Date</th><th>Description</th></tr></thead><tbody><tr><td align="left">Oct 31, 2019</td><td>Happy Halloween</td></tr><tr><td align="left">Sep 20, 2019</td><td>Created</td></tr></tbody></table></details><h2 id="tricks">Tricks<a class="headerlink" href="#tricks" title="Permanent link">&para;</a></h2>
<p>This list will be updated frequently.</p>
<h4 id="get-the-list-of-partition-pins">Get the List of Partition Pins<a class="headerlink" href="#get-the-list-of-partition-pins" title="Permanent link">&para;</a></h4>
<p>The partition pins are inserted by Vivado at the boundary of a PR region.
<code class="codehilite">PartPin</code> is short for Partition Pins.
<code class="codehilite">PPLOC</code> is short for Partpin LOC.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nv">get_pplocs</span> <span class="o">-</span>pin <span class="k">[</span><span class="nv">get_pins</span> <span class="o">-</span>hier <span class="o">*</span><span class="k">]</span>
</pre></div>
</td></tr></table>

<h4 id="disable-expansion-of-contain_routing-area">Disable Expansion of <code class="codehilite">CONTAIN_ROUTING</code> Area<a class="headerlink" href="#disable-expansion-of-contain_routing-area" title="Permanent link">&para;</a></h4>
<p>The contained routing requirement of RP Pblocks for UltraScale and UltraScale+ devices has
been relaxed to allow for improved routing and timing results. Instead of routing being
confined strictly to the resources owned by the Pblock, the routing footprint is expanded.</p>
<p>This option is enabled by default.
when this option is enabled, not all interface ports receive a partition pin.</p>
<p>When you disable this option, the implications are:
1) each interface port (per bit) receivces a partition pin,
2) <code class="codehilite">hd_visual/</code> will not be generated.</p>
<p>This command is useful when you want to do some hacking about Partition Pins.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nv">set_param</span> hd.routingContainmentAreaExpansion false
</pre></div>
</td></tr></table>

<h2 id="read-the-docs">Read-the-docs<a class="headerlink" href="#read-the-docs" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p><a href="https://www.xilinx.com/content/dam/xilinx/support/documentation/sw_manuals/xilinx2019_1/ug912-vivado-properties.pdf&lt;Paste&gt;">UG912 Vivado Properties Reference Guide</a></p>
<ul>
<li>Excellent resource on explaining cell, net, pin, port, and so on.</li>
<li><code class="codehilite">pin</code>: A pin is a point of logical connectivity on a primitive or
hierarchical cell. A pin allows the contents of a cell to be abstracted away,
and the logic simplified for ease-of-use. A pin is attached to a cell and can be connected to pins on other cells by a net.</li>
<li><code class="codehilite">port</code>: A port is a special type of hierarchical pin, providing an external connection point at the
top-level of a hierarchical design, or an internal connection point in a hierarchical cell or
block module to connect the internal logic to the pins on the hierarchical cell. </li>
<li><code class="codehilite">cell</code>: A cell is an instance of a netlist logic object, which can either be a leaf-cell or a hierarchical
cell. A leaf-cell is a primitive, or a primitive macro, with no further logic detail in the netlist.
A hierarchical cell is a module or block that contains one or more additional levels of logic,
and eventually concludes at leaf-cells. .. cells have PINs which are connected to NETs to define the external
netlist&hellip; The CELL can be placed onto a BEL object in the case of basic logic such as flops, LUTs, and
MUXes; or can be placed onto a SITE object in the case of larger logic cells such as BRAMs and DSPs.</li>
<li><code class="codehilite">net</code>: A net is a set of interconnected pins, ports, and wires. Every wire has a net name, which
identifies it. Two or more wires can have the same net name. All wires sharing a common net
name are part of a single NET, and all pins or ports connected to these wires are electrically connected. ..
In the design netlist, a NET can be connected to the PIN of a CELL, or to a PORT. ..
As the design is mapped onto the target Xilinx FPGA, the NET is mapped to routing
resources such as WIREs, NODEs, and PIPs on the device, and is connected to BELs through
BEL_PINs, and to SITEs through SITE_PINs. </li>
<li><code class="codehilite">pblock</code>: A Pblock is a collection of cells, and one or more rectangular areas or regions that specify
the device resources contained by the Pblock. Pblocks are used during floorplanning
placement to group related logic and assign it to a region of the target device.<ul>
<li><details class="example"><summary>Example</summary>
create_pblock Pblock_usbEngine<br />
add_cells_to_pblock [get_pblocks Pblock_usbEngine] [get_cells -quiet [listusbEngine1]]<br />
resize_pblock [get_pblocks Pblock_usbEngine] -add {SLICE_X8Y105:SLICE_X23Y149}<br />
resize_pblock [get_pblocks Pblock_usbEngine] -add {DSP48_X0Y42:DSP48_X1Y59}<br />
resize_pblock [get_pblocks Pblock_usbEngine] -add {RAMB18_X0Y42:RAMB18_X1Y59}<br />
resize_pblock [get_pblocks Pblock_usbEngine] -add {RAMB36_X0Y21:RAMB36_X1Y29}</details></li>
</ul>
</li>
<li><code class="codehilite">CONTAIN_ROUTING</code>: The <code class="codehilite">CONTAIN_ROUTING</code> property restricts the routing of signals contained within a Pblock
to use routing resources within the area defined by the Pblock. This prevents signals inside
the Pblock from being routed outside the Pblock, and increases the reusability of the design.<ul>
<li>This is useful when you are trying to do advanced PR hacks.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><a href="http://www.beedub.com/book/tkbook.pdf">Book: Practical Programming in Tcl and Tk</a></p>
</li>
<li><a href="https://www.xilinx.com/support/documentation/sw_manuals/xilinx2019_1/ug894-vivado-tcl-scripting.pdf">UG894 Vivado Using TCL scripting</a><ul>
<li>Get you started with Vivado TCL</li>
</ul>
</li>
<li>
<p><a href="https://www.xilinx.com/support/documentation/sw_manuals/xilinx2018_3/ug894-vivado-tcl-scripting.pdf">UG835 Vivado TCL Reference Guide</a></p>
<ul>
<li>aka. Vivado TCL Man Page</li>
</ul>
</li>
<li>
<p><a href="https://www.xilinx.com/support/documentation/sw_manuals/xilinx2019_1/ug909-vivado-partial-reconfiguration.pdf">UG909 Partial Reconfiguration</a></p>
<ul>
<li><code class="codehilite">Partition Pins</code><ul>
<li>Interface points called partition pins are automatically created within the Pblock ranges
defined for the Reconfigurable Partition. These virtual I/O are established within
interconnect tiles as the anchor points that remain consistent from one module to the next.</li>
<li>In UltraScale or UltraScale+ designs, <strong>not all interface ports receive a partition pin</strong>. With the
<strong>routing expansion</strong> feature, as explained in Expansion of <code class="codehilite">CONTAIN_ROUTING</code> Area, some
interface nets are completely contained within the expanded region. When this happens, no
partition pin is inserted; the entire net, including the source and all loads, is contained
within the area captured by the partial bit file. Rather than pick an unnecessary
intermediate point for the route, the entire net is rerouted, giving the Vivado tools the
flexibility to pick an optimal solution.</li>
<li><details class="exmaple"><summary>Exmaple</summary>
set_property HD.PARTPIN_LOCS INT_R_X4Y153 [get_ports <port_name>]<br />
set_property HD.PARTPIN_RANGE SLICE_X4Y153:SLICE_X5Y157 [get_ports <port_name>]<br />
set_property HD.PARTPIN_RANGE {SLICE_Xx0Yx0:SLICE_Xx1Yy1 SLICE_XxNYyN:SLICE_XxMYyM} [get_pins <rp_cell_name>/*]<Paste></details></li>
<li>These pins can be manually relocated and locked.</li>
</ul>
</li>
</ul>
</li>
</ul>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../bitstream/" class="btn btn-neutral float-right" title="Bitstream Explained">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../../notes/paper_fpga/" class="btn btn-neutral" title="FPGA Papers"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../../notes/paper_fpga/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../bitstream/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/require.js"></script>
      <script src="../../search/search.js"></script>

</body>
</html>
